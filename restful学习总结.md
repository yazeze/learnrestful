#restful学习总结

##1.restful API的来源

- 为了方便不同的前端设备与后端进行通信，从而导致API架构的流行。

- restful架构，由于结构清晰、符合标准、易于理解、扩展方便，是目前流行的一种互联网软件架构。



##2.什么是REST?

- 它是由Roy Thomas Fielding在他2000年的博士论文中提出：
	

> **在符合架构原理的前提下，理解和评估以网络为基础的应用软件的架构设计，得到一个功能强、性能好、适宜通信的架构。**

他对互联网软件的架构原则，定名为REST。

- REST= Representation + State + Transfer 表现层状态转化

- 资源在网络中以某种表现形式进行状态转移：
 -	Resource：资源
 
 -	Representation：某种表现形式，比如用JSON，XML，JPEG等
 
 - 	State Transfer：状态转化，通过HTTP动词实现



## 3.什么是RESTful架构？

- 如果一个架构符合REST原则，就称它为RESTful架构。

- RESTful架构，是面向资源的架构：
   - 1.每一个URI代表一种资源
   
   - 2.客户端和服务器之间，传递这种资源的某种表现层
   
   - 3.客户端通过HTTP动词，对服务器端资源进行操作，实现"表现层状态转化"



## 4.什么是RESTful API？

- 符合REST架构设计的API，就是RESTful API。
- 特征：URL用于定位资源，用HTTP动词描述操作

- 常见举例：
   - 查询编号为1的图书：
   [GET] http://api.test.com/v1/books/1

  - 删除编号为1的图书：
   [DELETE] http://api.test.com/v1/books/1

### URI设计规则
  1. 资源表示一种实体，URI使用名词表示，不应该包含动词；一般来说，数据库中的表都是同种记录的"集合"（collection），所以URI中的名词应该使用复数。
  
  2. 如果某些动作是HTTP动词表示不了的，应该把动作做成一种资源。
  
  3. 参数的设计允许存在冗余，即允许API路径和URL参数偶尔有重复。
  
  4. 一些常见的参数：
    - limit=10：指定返回记录的数量
    
    - offset=10：指定返回记录的开始位置
    
    - page=2&per_page=10：指定第几页，以及每页的记录数
    
    - sortby=name&order=asc：指定返回结果按照哪个属性排序，以及排序顺序

### HTTP动词

 7个HTTP动词：GET/POST/PUT/DELETE/PATCH/HEAD/OPTIONS
表示对资源的一组操作：

- GET（SELECT）：从服务器取出资源（一项或多项）

- POST（CREATE）：在服务器新建一个资源

- PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）

- PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）

- DELETE（DELETE）：从服务器删除资源

- HEAD：用于获取某个资源的元数据（metadata)

- OPTIONS：用于获取某个资源所支持的Request类型

### 状态码

- 2XX范围的状态码是保留给成功消息使用的。

- 3xx范围的状态码是保留给重定向用的。

- 4xx范围的状态码是保留给客户端错误用的。

- 5xx范围的状态码是保留给服务器端错误用的。

## 5.restful的优缺点

- 优点：

1. 轻量，直接基于http，不再需要任何别的诸如消息协议。get/post/put/delete为CRUD操作

2. 面向资源，一目了然，具有自解释性。

3. 数据描述简单，一般以xml，json做数据交换。

4. 无状态，在调用一个接口（访问、操作资源）的时候，可以不用考虑上下文，不用考虑当前状态，极大的降低了复杂度。

5. 简单、低耦合

- 缺点：

1. 对后端开发人员要求高，业务逻辑有时难以被抽象为资源的增删改查。

2. 对前端开发人员不友好，API粒度较粗，难以查询符合特殊要求的数据，同样的业务要比普通的API需要更多次HTTP请求。




   









